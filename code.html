<html>
<head>
	<title>Tom loves Scharese</title>
	 <meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	
	<script>
	var qArray = [
		["What career did Eva choose for her presentation in Kindergarten?",
		"veterinarian",
		"<img src='images/EvaVet.jpg' width='100%'/>"
		],
		["What word is at the 1:03 mark in your 2013 Mother's Day song (Found on the Learnswell Youtube channel)?",
		"miraculously",
		"<a href='https://www.youtube.com/watch?v=bkRNM2xSxco&ab_channel=learnswell'>Mother's Day Song</a>"
		],
		["What kind of treat did we have for Joshua's first time bowling?",
		"icee",
		"<img src='images/JoshuaIcee.jpg'  width='100%'/>"
		]
	];
	
	
		$(function(){
			$("body").css("background-color", "lightblue");
			var msg = $("#msg");
			var chkBtn = $("#chkBtn");
			if(document.cookie){
				var currentQuestion = document.cookie;
			} else {
				var currentQuestion = 1;
			}
			var timesWrong = 1;
			
			function updateCookie(){
				document.cookie = currentQuestion;
			}
			
			function countDelay(seconds){
				chkBtn.prop("disabled", true);
				timeRemaining = seconds;
				interv = setInterval(function(){
					//for(i=0; i<seconds; i++){
							chkBtn.val("Try again in "+timeRemaining+" seconds");
							timeRemaining -= 1;
					//}
					if(timeRemaining == 0){
						clearInterval(interv);
						chkBtn.val("Check Answer");
						chkBtn.prop("disabled", false);
					}
				}, 1000);
				
				
			}
			
			function updateQuestion(){
				$("#q").html(qArray[currentQuestion-1][0]);
			};
			function updateMsg(){
				$("#msg").html(qArray[currentQuestion-1][2]);
			};
			
			updateQuestion();
			
			chkBtn.on("click", function(){
				
				switch(true){
					case $("#answer").val() == qArray[currentQuestion-1][1]: 
						msg.html("You got it!");
						timesWrong = 1;
						updateMsg();
						currentQuestion++;
						updateCookie();
						updateQuestion();
						break;
					default : 
						msg.prepend("nope, try again<br>");
						countDelay(timesWrong*5);
						timesWrong++;
				}
			});
		
		});
	</script>
</head>

<body>
<div class="container-fluid" style="font-size: large">
	<h1 align="center">21 years of joy and tears</h1>
	<div id="q" align="center" style="  border: 1px solid;
	background: white;
	width: 80%;
	font-size: large;
	margin-left: 10%;
  padding: 10px;
  box-shadow: 5px 10px 8px #888888;"><img src="images/code.png" style='width: 100%; object-fit: contain'/>
	</div>
	<p>
	<form>
		<div align="center">
			Answer: <input type="text" id="answer"/>
			<input type="button" value="Check Answer" id="chkBtn">
		</div>
	</form>
	</p>
	<div id="msg"></div>
</div>
</body>
</html>